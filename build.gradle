apply plugin: 'groovy'
apply plugin: 'cobertura'
apply plugin: 'com.github.kt3k.coveralls'

buildscript {
    ext.dependency = [
        cobertura: "${coberturaPluginLib}:${coberturaVersion}",
        coveralls: "${coverallsPluginLib}:${coverallsVersion}",
        gmock: "${gmockLib}:${gmockVersion}",
        junit: "${junitLib}:${junitVersion}"
    ]

    repositories {
        mavenCentral()
    }

    dependencies {
        classpath(
            dependency.cobertura,
            dependency.coveralls
        )
    }
}

cobertura {
    coverageFormats = ['xml']
    coverageSourceDirs = sourceSets.main.groovy.srcDirs
}

repositories {
    mavenCentral()
}

dependencies {
    compile gradleApi()
    compile localGroovy()

    testCompile (
        dependency.gmock,
        dependency.junit
    )
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

group = "${group}"
version = "${version}"

task wrapper(type: Wrapper) {
    gradleVersion = '2.5'
}